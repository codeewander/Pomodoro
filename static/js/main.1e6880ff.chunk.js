(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,function(e,t,n){e.exports={main:"Main_main__2zd4R",date:"Main_date__26wm3",content:"Main_content__12elv",count_container:"Main_count_container__1gCCW",count:"Main_count__kQ1kN",controller:"Main_controller__vy5uR",delete:"Main_delete__2awKJ",bell:"Main_bell__k_FlL",play:"Main_play__2UI8g",resttext:"Main_resttext__25kKF",todo:"Main_todo__bB46z",tomato:"Main_tomato__21i0I"}},,,,function(e,t,n){e.exports={buttons:"TodoList_buttons__18UAT",checked:"TodoList_checked__zA1pD",todolist:"TodoList_todolist__3nWnJ",completed:"TodoList_completed__Qg3pT",player:"TodoList_player__2tW3q"}},function(e,t,n){e.exports={todo:"Todo_todo__2apsR",container:"Todo_container__1PpaK",panel:"Todo_panel__36ou5",status_panel:"Todo_status_panel__2gbBZ"}},,,function(e,t,n){e.exports={nav:"Navbar_nav__3sM_X",orange:"Navbar_orange__1oA_H",green:"Navbar_green__3Z9U_"}},,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/icon-bell.526aed07.svg"},function(e,t,n){e.exports=n.p+"static/media/icon-play--orange.a185f0b0.svg"},function(e,t,n){e.exports=n.p+"static/media/icon-delete.0520b13c.svg"},function(e,t,n){e.exports=n.p+"static/media/tomato--orange.f4d25225.svg"},function(e,t,n){e.exports=n.p+"static/media/tomato--green.4298a104.svg"},function(e,t,n){e.exports=n.p+"static/media/icon-pause--orange.5094d45d.svg"},function(e,t,n){e.exports=n.p+"static/media/icon-cancel.872654be.svg"},function(e,t,n){e.exports={app:"App_app__2ziFi"}},,,,,function(e,t,n){e.exports=n(42)},,,,,function(e,t,n){},,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),c=n.n(o),i=(n(36),n(15)),s=n(16),l=n(29),m=n(17),u=n(30),d=n(1),p=n(19),O=n.n(p),_=n(20),T=n.n(_),E=n(21),f=n.n(E),g=n(22),h=n.n(g),v=n(23),b=n.n(v),w=n(24),y=n.n(w),S=n(2),j=n.n(S);var k=0,D=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,a=e.getDate(),r=e.getDay(),o=e.getHours(),c=e.getMinutes();n>=1&&n<=9&&(n="0"+n),a>=0&&a<=9&&(a="0"+a),c>=0&&c<=9&&(c="0"+c);return{type:"SET_CURRENT_TIME",currentWeekday:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"][r],currentDate:t+"."+n+"."+a,currentTime:o+":"+c}},L=null,N=Object(d.b)(function(e){return{mode:e.mode,timer:e.timer,timerOn:e.timerOn,timerStart:e.timerStart,currentTime:e.currentTime,currentWeekday:e.currentWeekday,currentDate:e.currentDate,soundOn:e.soundOn}},function(e){return{setCurrentTime:function(){e(D())},updateTime:function(){e(function(e){setTimeout(function(){e(D())},6e4)})},startCounter:function(){e(function(e){L=setInterval(function(){return e({type:"TICK"})},1e3)})},resetTimer:function(){e({type:"RESET_TIMER"})},stopCounter:function(){e((clearInterval(L),{type:"STOP_COUNTER"}))},handleSound:function(){e({type:"HANDLE_SOUND"})}}})(function(e){var t=e.timer,n=e.timerOn,o=e.timerStart,c=e.mode,i=e.currentDate,s=e.currentWeekday,l=e.currentTime,m=e.setCurrentTime,u=e.updateTime,d=e.startCounter,p=e.resetTimer,_=e.stopCounter,E=e.soundOn,g=e.handleSound;Object(a.useEffect)(function(){m(),u()});return r.a.createElement("div",{className:j.a.main},r.a.createElement("div",{className:j.a.date},r.a.createElement("p",null,r.a.createElement("span",null,i),r.a.createElement("span",null,s),r.a.createElement("span",null,l))),r.a.createElement("div",{className:j.a.content},r.a.createElement("div",{className:j.a.count_container},r.a.createElement("div",{className:j.a.count},function(){var e=t,n=parseInt(e/60);n<10&&(n="0".concat(n));var a=e%60;return a<10&&(a="0".concat(a)),"".concat(n,":").concat(a)}()),r.a.createElement("div",{className:j.a.controller},r.a.createElement("audio",{id:"player"},r.a.createElement("source",{src:"http:www.gravomaster.com/alarm/sounds/schoolbell2.wav",type:"audio/mpeg"})),r.a.createElement("img",{src:O.a,alt:"bell",className:j.a.bell,onClick:g,style:{border:E?"2px solid #f08448":"2px solid #e8e8e8",backgroundColor:E?"#f08448":null}}),!n&&(!n||t>0)&&r.a.createElement("img",{src:T.a,alt:"play",className:j.a.play,onClick:d}),n&&o&&r.a.createElement("img",{src:y.a,alt:"pause",onClick:_,className:j.a.play}),r.a.createElement("img",{src:f.a,alt:"reset",className:j.a.delete,onClick:p}))),"work"===c&&r.a.createElement("div",{className:j.a.todo},r.a.createElement("h3",null,"\u5c08\u5fc3\uff0c"),r.a.createElement("p",null,"\u4e00\u6b65\u4e00\u6b65\u5b8c\u6210")),"rest"===c&&r.a.createElement("div",{className:j.a.resttext},r.a.createElement("h3",null,"\u4f11\u606f\uff0c"),r.a.createElement("p",null,"\u662f\u70ba\u4e86\u8d70\u66f4\u9060"))),"work"===c&&r.a.createElement("img",{className:j.a.tomato,src:h.a,alt:"orangeTomato"}),"rest"===c&&r.a.createElement("img",{className:j.a.tomato,src:b.a,alt:"greenTomato"}))}),C=n(10),R=n.n(C),M=function(e){var t=Object(d.c)();return r.a.createElement("div",{className:R.a.nav},r.a.createElement("button",{className:R.a.green,value:"rest",onClick:function(){return t({type:"TOGGLE_RESTMODE",payload:"rest"})}}),r.a.createElement("button",{onClick:function(){return t({type:"TOGGLE_WORKMODE",payload:"work"})},value:"work",className:R.a.orange}))},x=n(6),I=n.n(x),F=n(25),W=n.n(F),P=function(){var e=Object(d.d)(function(e){return e.todoList}),t=Object(d.d)(function(e){return e.filter}),n=Object(d.c)(),a=e.filter(function(e){return"all"===t?e:"active"===t?!1===e.completed:e.completed});return r.a.createElement("div",{className:I.a.todolist},r.a.createElement("ul",null,a.map(function(e){return r.a.createElement("li",{key:e.id,className:e.completed?I.a.completed:I.a.undo},r.a.createElement("span",{style:{textDecoration:e.completed?"line-through":"none"}},e.text),r.a.createElement("div",{className:I.a.buttons},r.a.createElement("button",{className:I.a.checked,onClick:function(){return n({type:"COMPLETE_TODO",id:e.id})}},"V"),r.a.createElement("button",null,r.a.createElement("img",{src:W.a,alt:"remove",onClick:function(){return n({type:"REMOVE_TODO",id:e.id})}}))))})))},A=n(7),U=n.n(A),G=Object(d.b)()(function(){var e,t=Object(d.d)(function(e){return e.showTodo}),n=Object(d.c)();return r.a.createElement("div",{className:U.a.todo,style:{transform:t?"translateX(0%)":"translateX(-100%)"}},r.a.createElement("div",{className:U.a.container,style:{marginLeft:t?"160px":"25px",marginRight:t?"40px":"25px"}},r.a.createElement("div",{className:U.a.panel},r.a.createElement("h1",null,"\u5f85\u8fa6\u6e05\u55ae"),r.a.createElement("div",{className:U.a.status_panel},r.a.createElement("button",{onClick:function(){return n({type:"FILTER_ACTIVE_TODO"})}},"\u672a\u5b8c\u6210"),r.a.createElement("button",{onClick:function(){return n({type:"FILTER_COMPLETED_TODO"})}},"\u5df2\u5b8c\u6210"),r.a.createElement("button",{onClick:function(){return n({type:"FILTER_ALL_TODO"})}},"\u5168\u90e8"))),r.a.createElement("form",{onSubmit:function(t){var a;t.preventDefault(),e.value.trim()&&(n((a=e.value,{type:"ADD_TODO",id:k++,text:a})),e.value="")}},r.a.createElement("input",{type:"text",placeholder:"\u65b0\u589e\u5f85\u8fa6\u4e8b\u9805",ref:function(t){return e=t}}),r.a.createElement("button",{type:"submit"},"+")),r.a.createElement(P,null)))}),K=n(26),V=n.n(K),B=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).showRemainTime=function(t){var n=parseInt(t/60);n<10&&(n="0".concat(n));var a=t%60;a<10&&(a="0".concat(a)),e.setState({timeText:"".concat(n,":").concat(a)})},e.startTimer=function(){console.log(e.state.time),e.setState({timerOn:!0,timerStart:!0,time:e.state.time}),e.timer=setInterval(function(){var t=e.state.time-1;console.log(t),t>=0?(e.setState({time:t}),e.showRemainTime(e.state.time)):(clearInterval(e.timer),e.playSound(),e.setState({timerOn:!1,timerStart:!1}))},1e3)},e.stopTimer=function(){clearInterval(e.timer),e.setState({timerOn:!1})},e.resetTimer=function(){var t=e.state.mode;console.log(t),clearInterval(e.timer),"work"===t?e.setState({time:1500,timerOn:!1,timerStart:!1},function(){return e.showRemainTime(1500)}):e.setState({time:300,timerOn:!1,timerStart:!1},function(){return e.showRemainTime(300)})},e.showTodoList=function(t){t===e.state.mode&&e.setState(function(e){return{showTodo:!e.showTodo}})},e.changeWorkMode=function(t){var n=t.target.value;e.setState(function(e){return{mode:"work",time:1500}},function(){return e.resetTimer(e.state.mode)}),e.showTodoList(n)},e.changeRestMode=function(t){var n=t.target.value;e.setState(function(e){return{mode:"rest",time:300}},function(){return e.resetTimer(e.state.mode)}),e.showTodoList(n)},e.changeFilterComplete=function(){e.setState({currentFilter:"completed"}),console.log("completed")},e.changeFilterActive=function(){e.setState({currentFilter:"active"}),console.log("active")},e.playSound=function(){var t=document.getElementById("player");e.state.soundOn&&0===e.state.time?t.play():t.pause()},e.handleSound=function(){e.setState(function(e){return{soundOn:!e.soundOn}})},e.state={showTodo:!1,mode:"work",time:1500,timeText:"",timerOn:!1,timerStart:!1,currentFilter:"all",soundOn:!1},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.showTodo,n=e.mode,a=e.time;return r.a.createElement("div",{className:V.a.app,style:{overflow:this.state.showTodo?"hidden":null}},r.a.createElement(M,{changeWorkMode:this.changeWorkMode,showTodo:t,changeRestMode:this.changeRestMode}),r.a.createElement(G,{showTodo:t,currentFilter:this.state.currentFilter,changeFilterComplete:this.changeFilterComplete,changeFilterActive:this.changeFilterActive}),r.a.createElement(N,{showTodo:t,mode:n,time:a,showRemainTime:this.showRemainTime,timeText:this.state.timeText,startTimer:this.startTimer,stopTimer:this.stopTimer,resetTimer:this.resetTimer,timerOn:this.state.timerOn,timerStart:this.state.timerStart,handleSound:this.handleSound,soundOn:this.state.soundOn}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=n(5),z=n(27),H=n(28),J=n(8);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var Y={mode:"work",showTodo:!1,timer:1500,todoList:[],timerOn:!1,timerStart:!1,filter:"all",currentWeekday:"",currentDate:"",currentTime:"",soundOn:!1},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_WORKMODE":return e.mode===t.payload?Object.assign({},e,{mode:"work",showTodo:!e.showTodo,timer:1500}):Object.assign({},e,{mode:"work",showTodo:e.showTodo,timer:1500});case"TOGGLE_RESTMODE":return e.mode===t.payload?Object.assign({},e,{mode:"rest",showTodo:!e.showTodo,timer:300}):Object.assign({},e,{mode:"rest",showTodo:e.showTodo,timer:300});case"ADD_TODO":return Object.assign({},e,{todoList:[].concat(Object(J.a)(e.todoList),[{id:t.id,text:t.text,completed:!1}])});case"COMPLETE_TODO":return Object.assign({},e,{todoList:Object(J.a)(e.todoList.map(function(e){return e.id===t.id?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(n,!0).forEach(function(t){Object(H.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{completed:!e.completed}):e}))});case"REMOVE_TODO":return Object.assign({},e,{todoList:Object(J.a)(e.todoList.filter(function(e){return e.id!==t.id}))});case"FILTER_ACTIVE_TODO":return Object.assign({},e,{filter:"active"});case"FILTER_ALL_TODO":return Object.assign({},e,{filter:"all"});case"FILTER_COMPLETED_TODO":return Object.assign({},e,{filter:"completed"});case"SET_VISIBILITY_FILTER":return Object.assign({},e,{todoList:[].concat(Object(J.a)(e),[{filter:t.filter}])});case"SET_CURRENT_TIME":return Object.assign({},e,{currentWeekday:t.currentWeekday,currentDate:t.currentDate,currentTime:t.currentTime});case"RESET_TIMER":return"work"===e.mode?Object.assign({},e,{timer:1500}):Object.assign({},e,{timer:300});case"TICK":return Object.assign({},e,{timer:e.timer-1,timerOn:!0,timerStart:!0});case"STOP_COUNTER":return Object.assign({},e,{timer:e.timer,timerOn:!1});case"HANDLE_SOUND":return Object.assign({},e,{soundOn:!e.soundOn});default:return e}},q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||X.c,$=Object(X.d)(Z,q(Object(X.a)(z.a)));c.a.render(r.a.createElement(d.a,{store:$},r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[31,1,2]]]);
//# sourceMappingURL=main.1e6880ff.chunk.js.map